/* Angular Material Theme - must be first (SCSS @use rule) */
@use './styles/theme';

/* Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global styles */
html, body {
  height: 100%;
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Remove default button styles */
button {
  font-family: inherit;
}

/* Improve text rendering */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Cores sem√¢nticas customizadas */
.success-text { color: #2E7D32; }
.warning-text { color: #F9A825; }
.error-text { color: #C62828; }
.info-text { color: #0277BD; }

.success-snackbar {
  background: #2E7D32 !important;
  color: white !important;
}

.error-snackbar {
  background: #C62828 !important;
  color: white !important;
}

.warning-snackbar {
  background: #F9A825 !important;
  color: #212121 !important;
}

.info-snackbar {
  background: #0277BD !important;
  color: white !important;
}

/* ===========================
   Confirm Dialog - Remove default padding
   =========================== */
.confirm-dialog-panel .mat-mdc-dialog-container .mdc-dialog__surface {
  padding: 0 !important;
  overflow: hidden;
  border-radius: 0 !important;
}

/* ===========================
   Accessibility - Focus Visible
   =========================== */

/* Hide focus outline by default (mouse users) */
body:not(.user-is-tabbing) *:focus {
  outline: none;
}

/* Show focus outline only for keyboard users */
body.user-is-tabbing *:focus,
*:focus-visible {
  outline: 2px solid #0d9488;
  outline-offset: 2px;
}

/* Suppress inner focus outline on inputs inside Material form fields
   (Material already handles focus via the outline border color change) */
.mat-mdc-form-field input:focus,
.mat-mdc-form-field input:focus-visible,
.mat-mdc-form-field textarea:focus,
.mat-mdc-form-field textarea:focus-visible,
.mat-mdc-form-field select:focus,
.mat-mdc-form-field select:focus-visible,
.mat-mdc-form-field .mat-mdc-select:focus,
.mat-mdc-form-field .mat-mdc-select:focus-visible {
  outline: none !important;
}

/* Material Design components focus */
body.user-is-tabbing .mat-mdc-button:focus,
body.user-is-tabbing .mat-mdc-icon-button:focus,
body.user-is-tabbing .mat-mdc-raised-button:focus {
  outline: 2px solid #0d9488;
  outline-offset: 2px;
}

/* ===========================
   Accessibility - Touch Targets
   =========================== */

/* Mobile touch targets must be at least 48x48px */
@media (max-width: 1279px) {
  .mat-mdc-icon-button,
  .mat-mdc-button,
  .mat-mdc-unelevated-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button {
    min-height: 48px;
    min-width: 48px;
  }

  /* Spacing between touch targets */
  .mat-mdc-icon-button + .mat-mdc-icon-button,
  .mat-mdc-button + .mat-mdc-button {
    margin-left: 8px;
  }
}

/* ===========================
   Accessibility - High Contrast
   =========================== */

@media (prefers-contrast: high) {
  *:focus,
  *:focus-visible {
    outline-width: 3px;
  }
}

/* ===========================
   Accessibility - Reduced Motion
   =========================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===========================
   Material Form Fields - Enhanced Styling
   Fix for Material Design 3 (Angular 19) issues
   =========================== */

/* Improve form field appearance and consistency */
.mat-mdc-form-field {
  width: 100%;
}

/* Hide Material's auto-generated required asterisk (templates use manual <span class="required">*</span>) */
.mat-mdc-form-field-required-marker {
  display: none;
}

/* Fix outlined form fields notch issues */
.mat-mdc-text-field-wrapper.mdc-text-field--outlined {
  .mdc-notched-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: rgba(0, 0, 0, 0.38) !important;
    }
  }

  /* Fix notch alignment */
  .mdc-notched-outline__notch {
    border-right: none !important;
    border-left: none !important;
  }

  .mdc-notched-outline__leading {
    border-right: none !important;
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
  }

  .mdc-notched-outline__trailing {
    border-left: none !important;
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
  }
}

/* Fix focused state */
.mat-mdc-form-field.mat-focused {
  .mdc-notched-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: #0d9488 !important;
      border-width: 2px !important;
    }
  }
}

/* Better spacing for outlined fields */
.mat-mdc-form-field-type-mat-input.mat-form-field-appearance-outline {
  .mat-mdc-text-field-wrapper {
    padding-bottom: 0;
  }
}

/* Better hint text spacing */
.mat-mdc-form-field-hint-wrapper,
.mat-mdc-form-field-error-wrapper {
  padding: 0 16px;
}

/* Improve disabled field appearance */
.mat-mdc-form-field-disabled {
  opacity: 0.6;
}

/* ===========================
   Collaborators Table - Fix row borders and alignment
   =========================== */
.collaborators-table {
  width: 100% !important;
}

/* Reset all cell borders and fix vertical alignment */
.collaborators-table .mat-mdc-cell,
.collaborators-table .mat-mdc-header-cell {
  border-bottom: none !important;
  padding: 16px !important;
  vertical-align: middle !important;
}

/* Header row styling */
.collaborators-table .mat-mdc-header-row {
  background-color: #f5f5f5 !important;
  border-bottom: 2px solid #bdbdbd !important;
}

.collaborators-table .mat-mdc-header-cell {
  font-weight: 600 !important;
  color: #424242 !important;
}

/* Data row styling - border on the row itself */
.collaborators-table .mat-mdc-row {
  border-bottom: 1px solid #e0e0e0 !important;
}

.collaborators-table .mat-mdc-row:last-of-type {
  border-bottom: none !important;
}

.collaborators-table .mat-mdc-row:hover {
  background-color: #fafafa !important;
}

/* Fix action buttons alignment */
.collaborators-table .mat-mdc-cell:last-child {
  vertical-align: middle !important;
  padding-top: 8px !important;
  padding-bottom: 8px !important;
}

.collaborators-table .mat-mdc-cell:last-child .mat-mdc-icon-button {
  vertical-align: middle !important;
}

/* ===========================
   Sidebar - Dark theme overrides for Angular Material
   =========================== */
.mat-drawer.sidenav {
  border-radius: 0 !important;
}

.sidenav .mat-mdc-list-item,
.sidenav .mdc-list-item {
  border-radius: 0 !important;
}

.sidenav .mat-mdc-list-item-interactive::before {
  border-radius: 0 !important;
}

/* Force text color and vertical alignment on Material internal elements */
.sidenav .mat-mdc-list-item .mdc-list-item__content {
  align-self: center;
}

.sidenav .mat-mdc-list-item .mdc-list-item__primary-text,
.sidenav .mat-mdc-list-item .mat-mdc-list-item-title {
  color: #cbd5e1 !important;
}

.sidenav .mat-mdc-list-item .mat-mdc-list-item-icon {
  color: #94a3b8 !important;
}

.sidenav .mat-mdc-list-item.active .mdc-list-item__primary-text,
.sidenav .mat-mdc-list-item.active .mat-mdc-list-item-title {
  color: #2dd4bf !important;
  font-weight: 500;
}

.sidenav .mat-mdc-list-item.active .mat-mdc-list-item-icon {
  color: #2dd4bf !important;
}

.sidenav .nav-child .mdc-list-item__primary-text,
.sidenav .nav-child .mat-mdc-list-item-title {
  color: #94a3b8 !important;
}

.sidenav .nav-child.active .mdc-list-item__primary-text,
.sidenav .nav-child.active .mat-mdc-list-item-title {
  color: #2dd4bf !important;
}
